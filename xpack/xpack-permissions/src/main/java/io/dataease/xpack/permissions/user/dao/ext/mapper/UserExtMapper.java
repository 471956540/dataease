package io.dataease.xpack.permissions.user.dao.ext.mapper;import com.baomidou.mybatisplus.core.conditions.query.QueryWrapper;import com.baomidou.mybatisplus.core.mapper.BaseMapper;import com.baomidou.mybatisplus.core.metadata.IPage;import io.dataease.api.permissions.user.vo.UserGridOrgItem;import io.dataease.api.permissions.user.vo.UserGridRoleItem;import io.dataease.api.permissions.user.vo.UserGridVO;import org.apache.ibatis.annotations.*;import java.util.List;@Mapperpublic interface UserExtMapper extends BaseMapper<UserGridVO> {    @Select(            """                    select                     u.id,u.id as union_id, u.account, u.name, u.email, u.enable, u.create_time                     from per_user u                    ${ew.customSqlSegment}                     """    )    @Results({            @Result(property = "orgItems", many = @Many(select = "orgs"), column = "union_id"),            @Result(property = "roleItems", many = @Many(select = "roles"), column = "union_id")    })    IPage<UserGridVO> pager(IPage<UserGridVO> page, @Param("ew") QueryWrapper queryWrapper);    @Select(            """                    select pro.id, pro.name                     from per_user pu                     left join per_user_role pur on pur.uid = pu.id                     left join per_role pro on pro.id = pur.rid                     where pu.id = #{uId}                     """    )    List<UserGridRoleItem> roles(@Param("uId") Long uId);    @Select(            """                    select po.id, po.name                    from per_user pu                     left join per_user_org puo on puo.uid = pu.id                     left join per_org po on po.id = puo.oid                     where pu.id = #{uId}                     """    )    List<UserGridOrgItem> orgs(@Param("uId") Long uId);}